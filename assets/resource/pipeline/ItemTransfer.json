{
    "ItemTransfer": {
        "recognition": "DirectHit",
        "next": [
            "ItemTransferStart"
        ]
    },
    "ItemTransferStart": {
        "recognition": "OCR",
        "roi": [182, 125, 160, 39],
        "expected": "仓库",
        "next": [
            "SwitchRepoToOrigin"
        ]
    },
    "SwitchRepoToOrigin": {
        "recognition": "OCR",
        "roi": [607, 128, 65, 24],
        "expected": "仓库切换",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "ClickOrigin",
            "SwitchRepoToOrigin"
        ]
    },
    "ClickOrigin": {
        "recognition": "OCR",
        "roi": [515, 158, 481, 393],
        "expected": "ORIGIN_REGION",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "ClickConfirmOrigin",
            "AtOrigin"
        ]
    },
    "ClickConfirmOrigin": {
        "recognition": "OCR",
        "roi": [991, 560, 117, 41],
        "expected": "确认",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "AtOrigin"
        ]
    },
    "AtOrigin": {
        "recognition": "OCR",
        "roi": [991, 560, 117, 41],
        "expected": "已连接",
        "next": [
            "ClickEscOrigin"
        ]
    },
    "ClickEscOrigin": {
        "action": "ClickKey",
        "key": 27,
        "post_wait_freezes": 1,
        "next": [
            "RepoToBag"
        ]
    },
    "RepoToBag": {
        "post_wait_freezes": 1,
        "next": [
            "ClickSortDescending",
            "ClickItemCategory",
            "FindItemInRepo",
            "ScrollDownwardRepo"
        ]
    },
    "ClickSortDescending": {
        "recognition": "OCR",
        "roi": [371, 505, 48, 26],
        "expected": "降序",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "ClickItemCategory",
            "FindItemInRepo",
            "ScrollDownwardRepo"
        ]
    },
    "ClickItemCategory": {
        "recognition": "TemplateMatch",
        "roi": [168, 171, 531, 35],
        "template": "ItemTransfer/全部.png",
        "threshold": 0.8,
        "order_by": "Score",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "FindItemInRepo",
            "ScrollDownwardRepo"
        ]
    },
    "FindItemInRepo": {
        "recognition": "TemplateMatch",
        "roi": [158, 203, 551, 292],
        "template": "ItemTransfer/{ItemName}.png",
        "threshold": 0.85,
        "order_by": "Score",
        "next": [
            "CtrlKeyDownRepo"
        ]
    },
    "ScrollDownwardRepo": {
        "action": "Swipe",
        "begin": [640, 455],
        "end": [640, 248],
        "end_hold": 500,
        "max_hit": 3,
        "post_wait_freezes": 1,
        "next": [
            "FindItemInRepo",
            "ScrollDownwardRepo",
            "ScrollUpwardRepo"
        ]
    },
    "ScrollUpwardRepo": {
        "doc": "触底后回顶",
        "action": "Swipe",
        "begin": [640, 248],
        "end": [640, 455],
        "end_hold": 500,
        "max_hit": 3,
        "post_wait_freezes": 1,
        "next": [
            "FindItemInRepo",
            "ScrollUpwardRepo"
        ],
        "focus": {
            "Node.NextList.Failed": "$task.ItemTransfer.item_not_found"
        }
    },
    "CtrlKeyDownRepo": {
        "action": "KeyDown",
        "key": 17,
        "next": [
            "TransferToBag"
        ]
    },
    "TransferToBag": {
        "target": "FindItemInRepo",
        "action": "Click",
        "next": [
            "CtrlKeyUpRepo"
        ]
    },
    "CtrlKeyUpRepo": {
        "action": "KeyUp",
        "key": 17,
        "next": [
            "SwitchRepoToDestination"
        ]
    },
    "SwitchRepoToDestination": {
        "recognition": "OCR",
        "roi": [607, 128, 65, 24],
        "expected": "仓库切换",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "ClickDestination",
            "SwitchRepoToDestination"
        ]
    },
    "ClickDestination": {
        "recognition": "OCR",
        "roi": [515, 158, 481, 393],
        "expected": "DESTINATION_REGION",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "ClickConfirmDestination",
            "AtDestination"
        ]
    },
    "ClickConfirmDestination": {
        "recognition": "OCR",
        "roi": [991, 560, 117, 41],
        "expected": "确认",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "AtDestination"
        ]
    },
    "AtDestination": {
        "recognition": "OCR",
        "roi": [991, 560, 117, 41],
        "expected": "已连接",
        "next": [
            "ClickEscDestination"
        ]
    },
    "ClickEscDestination": {
        "action": "ClickKey",
        "key": 27,
        "post_wait_freezes": 1,
        "next": [
            "BagToRepo"
        ]
    },
    "BagToRepo": {
        "post_wait_freezes": 1,
        "next": [
            "FindItemInBag",
            "ScrollDownwardBag"
        ]
    },
    "FindItemInBag": {
        "recognition": "TemplateMatch",
        "roi": [768, 209, 349, 285],
        "template": "ItemTransfer/{ItemName}.png",
        "threshold": 0.85,
        "order_by": "Score",
        "next": [
            "CtrlKeyDownBag"
        ]
    },
    "ScrollDownwardBag": {
        "action": "Swipe",
        "begin": [837, 472],
        "end": [837, 228],
        "end_hold": 500,
        "max_hit": 3,
        "post_wait_freezes": 1,
        "next": [
            "FindItemInBag",
            "ScrollDownwardBag",
            "ScrollUpwardBag"
        ]
    },
    "ScrollUpwardBag": {
        "doc": "触底后回顶",
        "action": "Swipe",
        "begin": [837, 228],
        "end": [837, 472],
        "end_hold": 500,
        "max_hit": 3,
        "post_wait_freezes": 1,
        "next": [
            "FindItemInBag",
            "ScrollUpwardBag"
        ]
    },
    "CtrlKeyDownBag": {
        "action": "KeyDown",
        "key": 17,
        "next": [
            "TransferToRepo"
        ]
    },
    "TransferToRepo": {
        "target": "FindItemInBag",
        "action": "Click",
        "next": [
            "CtrlKeyUpBag"
        ]
    },
    "CtrlKeyUpBag": {
        "action": "KeyUp",
        "key": 17,
        "next": [
            "CheckIfFull",
            "ItemTransferStart",
            "Stop"
        ]
    },
    "CheckIfFull": {
        "recognition": "OCR",
        "roi": [493, 112, 291, 20],
        "expected": "已满",
        "next": [
            "SwitchRepoToOriginReturn"
        ]
    },
    "SwitchRepoToOriginReturn": {
        "recognition": "OCR",
        "roi": [607, 128, 65, 24],
        "expected": "仓库切换",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "ClickOriginReturn",
            "SwitchRepoToOriginReturn"
        ]
    },
    "ClickOriginReturn": {
        "recognition": "OCR",
        "roi": [515, 158, 481, 393],
        "expected": "ORIGIN_REGION",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "ClickConfirmOriginReturn",
            "AtOriginReturn"
        ]
    },
    "ClickConfirmOriginReturn": {
        "recognition": "OCR",
        "roi": [991, 560, 117, 41],
        "expected": "确认",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "AtOriginReturn"
        ]
    },
    "AtOriginReturn": {
        "recognition": "OCR",
        "roi": [991, 560, 117, 41],
        "expected": "已连接",
        "next": [
            "ClickEscOriginReturn"
        ]
    },
    "ClickEscOriginReturn": {
        "action": "ClickKey",
        "key": 27,
        "post_wait_freezes": 1,
        "next": [
            "BagToOriginRepo"
        ]
    },
    "BagToOriginRepo": {
        "post_wait_freezes": 1,
        "next": [
            "FindItemInBagReturn",
            "ScrollDownwardBagReturn"
        ]
    },
    "FindItemInBagReturn": {
        "recognition": "TemplateMatch",
        "roi": [768, 209, 349, 285],
        "template": "ItemTransfer/{ItemName}.png",
        "threshold": 0.85,
        "order_by": "Score",
        "next": [
            "CtrlKeyDownBagReturn"
        ]
    },
    "ScrollDownwardBagReturn": {
        "action": "Swipe",
        "begin": [837, 472],
        "end": [837, 228],
        "end_hold": 500,
        "max_hit": 3,
        "post_wait_freezes": 1,
        "next": [
            "FindItemInBagReturn",
            "ScrollDownwardBagReturn",
            "ScrollUpwardBagReturn"
        ]
    },
    "ScrollUpwardBagReturn": {
        "doc": "触底后回顶",
        "action": "Swipe",
        "begin": [837, 228],
        "end": [837, 472],
        "end_hold": 500,
        "max_hit": 3,
        "post_wait_freezes": 1,
        "next": [
            "FindItemInBagReturn",
            "ScrollUpwardBagReturn"
        ]
    },
    "CtrlKeyDownBagReturn": {
        "action": "KeyDown",
        "key": 17,
        "next": [
            "TransferToRepoReturn"
        ]
    },
    "TransferToRepoReturn": {
        "target": "FindItemInBagReturn",
        "action": "Click",
        "next": [
            "CtrlKeyUpBagReturn"
        ]
    },
    "CtrlKeyUpBagReturn": {
        "action": "KeyUp",
        "key": 17,
        "focus": {
            "Node.Action.Succeeded": "$task.ItemTransfer.bag_return_completed"
        }
    },
    "Stop": {
        "action": "StopTask"
    }
}